# –ö—Ä–æ–∫ 1 –ú–µ–¥–∏—Ü–∏–Ω–∞ - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è Supabase

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –∫–æ–Ω–≤–µ—Ä—Ç—É—î –ø–∏—Ç–∞–Ω–Ω—è –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ –º–µ–¥–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç—É "–ö—Ä–æ–∫ 1" —É —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—É –±–∞–∑—É –¥–∞–Ω–∏—Ö –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ Supabase.

## üìã –û–ø–∏—Å

–ü—Ä–æ–µ–∫—Ç –º—ñ—Å—Ç–∏—Ç—å 154 –ø–∏—Ç–∞–Ω–Ω—è –∑ –∑–∞–≥–∞–ª—å–Ω–æ—ó –º–µ–¥–∏—á–Ω–æ—ó –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ (–ö—Ä–æ–∫ 1, 2007 —Ä—ñ–∫) –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º–∏. –í—Å—ñ –¥–∞–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É –≤ Supabase PostgreSQL –±–∞–∑—É –¥–∞–Ω–∏—Ö.

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
‚îú‚îÄ‚îÄ supabase-krok-schema.sql          # –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –¥–ª—è Supabase
‚îú‚îÄ‚îÄ parse-krok-questions-smart.js     # –ü–∞—Ä—Å–µ—Ä –ø–∏—Ç–∞–Ω—å –∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª—É
‚îú‚îÄ‚îÄ generate-correct-answers.js       # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
‚îú‚îÄ‚îÄ generate-supabase-import.js       # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∫—Ä–∏–ø—Ç—ñ–≤ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É
‚îú‚îÄ‚îÄ convert-krok-to-supabase.sh       # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ import-via-rest-api.js            # REST API —Å–∫—Ä–∏–ø—Ç –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É
‚îú‚îÄ‚îÄ IMPORT_INSTRUCTIONS.md            # –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
‚îî‚îÄ‚îÄ README.md                         # –¶–µ–π —Ñ–∞–π–ª
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è

```bash
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó
./convert-krok-to-supabase.sh
```

### –†—É—á–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è

```bash
# 1. –ü–∞—Ä—Å–∏–Ω–≥ –ø–∏—Ç–∞–Ω—å
node parse-krok-questions-smart.js

# 2. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
node generate-correct-answers.js

# 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É
node generate-supabase-import.js
```

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –¢–∞–±–ª–∏—Ü—ñ

1. **krok_questions** - –û—Å–Ω–æ–≤–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –∑ –ø–∏—Ç–∞–Ω–Ω—è–º–∏
   - `id` - –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
   - `question_number` - –ù–æ–º–µ—Ä –ø–∏—Ç–∞–Ω–Ω—è
   - `question_text` - –¢–µ–∫—Å—Ç –ø–∏—Ç–∞–Ω–Ω—è
   - `category` - –ö–∞—Ç–µ–≥–æ—Ä—ñ—è (–ó–∞–≥–∞–ª—å–Ω–∞ –º–µ–¥–∏—Ü–∏–Ω–∞)
   - `difficulty_level` - –†—ñ–≤–µ–Ω—å —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ

2. **krok_answers** - –í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
   - `question_id` - –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è
   - `answer_option` - –í–∞—Ä—ñ–∞–Ω—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (A, B, C, D, E)
   - `answer_text` - –¢–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
   - `is_correct` - –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å

3. **krok_explanations** - –ü–æ—è—Å–Ω–µ–Ω–Ω—è –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
   - `question_id` - –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è
   - `explanation_text` - –¢–µ–∫—Å—Ç –ø–æ—è—Å–Ω–µ–Ω–Ω—è

4. **krok_test_results** - –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤
   - `user_id` - ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - `question_id` - ID –ø–∏—Ç–∞–Ω–Ω—è
   - `selected_answer` - –û–±—Ä–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
   - `is_correct` - –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
   - `time_spent` - –ß–∞—Å –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å (—Å–µ–∫—É–Ω–¥–∏)

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∏—Ç–∞–Ω—å**: 154
- **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π**: 770 (5 –Ω–∞ –∫–æ–∂–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è)
- **–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—è—Å–Ω–µ–Ω—å**: 154
- **–ö–∞—Ç–µ–≥–æ—Ä—ñ—è**: –ó–∞–≥–∞–ª—å–Ω–∞ –º–µ–¥–∏—á–Ω–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞
- **–†—ñ–∫**: 2007

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å

–í–∏–∫–æ–Ω–∞–π—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç `supabase-krok-schema.sql` –≤ Supabase SQL Editor:

```sql
-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å
-- (–≤–∏–∫–æ–Ω–∞–π—Ç–µ –≤–µ—Å—å —Ñ–∞–π–ª supabase-krok-schema.sql)
```

### 2. –Ü–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö

#### –í–∞—Ä—ñ–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ SQL Editor

```sql
-- –í–∏–∫–æ–Ω–∞–π—Ç–µ —Ñ–∞–π–ª krok-questions-final-import.sql
```

#### –í–∞—Ä—ñ–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ REST API

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install @supabase/supabase-js

# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
export SUPABASE_URL="https://your-project.supabase.co"
export SUPABASE_SERVICE_KEY="your-service-key"

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —ñ–º–ø–æ—Ä—Ç
node import-via-rest-api.js
```

## üîê –ë–µ–∑–ø–µ–∫–∞

- –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ Row Level Security (RLS)
- –í—Å—ñ –º–æ–∂—É—Ç—å —á–∏—Ç–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- –¢—ñ–ª—å–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤
- –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –º–∞—é—Ç—å –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø

## üìù –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∏—Ç–∞–Ω–Ω—è –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏

```sql
SELECT 
    q.question_number,
    q.question_text,
    a.answer_option,
    a.answer_text,
    a.is_correct
FROM krok_questions q
JOIN krok_answers a ON q.id = a.question_id
WHERE q.question_number = 1
ORDER BY a.answer_option;
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

```sql
SELECT 
    q.question_number,
    q.question_text,
    a.answer_text as correct_answer,
    e.explanation_text
FROM krok_questions q
JOIN krok_answers a ON q.id = a.question_id
LEFT JOIN krok_explanations e ON q.id = e.question_id
WHERE a.is_correct = true
ORDER BY q.question_number;
```

## üõ†Ô∏è –†–æ–∑—Ä–æ–±–∫–∞

### –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

- Node.js 14+
- Supabase CLI (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É

- **–ü–∞—Ä—Å–µ—Ä–∏**: –û–±—Ä–æ–±–ª—è—é—Ç—å —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª –∑ –ø–∏—Ç–∞–Ω–Ω—è–º–∏
- **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏**: –°—Ç–≤–æ—Ä—é—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Ç–∞ –ø–æ—è—Å–Ω–µ–Ω–Ω—è
- **–Ü–º–ø–æ—Ä—Ç–µ—Ä–∏**: –ì–µ–Ω–µ—Ä—É—é—Ç—å —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É –≤ Supabase

## üìö –ú–µ–¥–∏—á–Ω—ñ —Ç–µ–º–∏

–ü–∏—Ç–∞–Ω–Ω—è –æ—Ö–æ–ø–ª—é—é—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ –º–µ–¥–∏—á–Ω—ñ —Ç–µ–º–∏:

- –ê–Ω–∞—Ç–æ–º—ñ—è —Ç–∞ —Ñ—ñ–∑—ñ–æ–ª–æ–≥—ñ—è
- –ü–∞—Ç–æ–ª–æ–≥—ñ—è
- –§–∞—Ä–º–∞–∫–æ–ª–æ–≥—ñ—è
- –ú—ñ–∫—Ä–æ–±—ñ–æ–ª–æ–≥—ñ—è
- –ë—ñ–æ—Ö—ñ–º—ñ—è
- –ì—ñ—Å—Ç–æ–ª–æ–≥—ñ—è
- –Ü–Ω—Ñ–µ–∫—Ü—ñ–π–Ω—ñ —Ö–≤–æ—Ä–æ–±–∏
- –•—ñ—Ä—É—Ä–≥—ñ—è
- –¢–µ—Ä–∞–ø—ñ—è
- –ü–µ–¥—ñ–∞—Ç—Ä—ñ—è

## ü§ù –í–Ω–µ—Å–æ–∫

–î–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø–∏—Ç–∞–Ω—å –∞–±–æ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö:

1. –î–æ–¥–∞–π—Ç–µ –ø–∏—Ç–∞–Ω–Ω—è –≤ —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª
2. –û–Ω–æ–≤—ñ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤ `generate-correct-answers.js`
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è –æ—Å–≤—ñ—Ç–Ω—ñ—Ö —Ü—ñ–ª–µ–π. –ú–µ–¥–∏—á–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º –æ—Å–≤—ñ—Ç–Ω—ñ–º —É—Å—Ç–∞–Ω–æ–≤–∞–º.

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Supabase
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ —Å—Ç–≤–æ—Ä–µ–Ω—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ç–∞–±–ª–∏—Ü—å
4. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Supabase

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –º–µ–¥–∏—á–Ω–∏—Ö –∑–Ω–∞–Ω—å —Ç–∞ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –º–µ–¥–∏—á–Ω–∏–º–∏ –µ–∫—Å–ø–µ—Ä—Ç–∞–º–∏ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–∏—Ö —Ç–µ—Å—Ç–∞—Ö.